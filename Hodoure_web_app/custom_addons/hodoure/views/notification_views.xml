<odoo>
    <data>
        <!-- Search view with basic filters -->
        <record id="hodoure_notification_search" model="ir.ui.view">
            <field name="name">notification.search</field>
            <field name="model">hodoure.notification</field>
            <field name="arch" type="xml">
                <search>
                    <field name="parent_id"/>
                    <field name="type"/>
                    <field name="statut"/>
                    <field name="date_envoi"/>
                    
                    <filter name="pending" string="Pending" 
                            domain="[('statut', '=', 'pending')]"/>
                    <filter name="sent" string="Sent" 
                            domain="[('statut', '=', 'sent')]"/>
                    <filter name="read" string="Read" 
                            domain="[('statut', '=', 'read')]"/>
                    
                    <separator/>
                    <filter name="today" string="Today" 
                            domain="[('date_envoi', '>=', datetime.datetime.now().strftime('%Y-%m-%d 00:00:00'))]"/>
                    
                    <group expand="0" string="Group By">
                        <filter name="group_by_type" string="Type" context="{'group_by': 'type'}"/>
                        <filter name="group_by_status" string="Status" context="{'group_by': 'statut'}"/>
                        <filter name="group_by_parent" string="Parent" context="{'group_by': 'parent_id'}"/>
                    </group>
                </search>
            </field>
        </record>

        <!-- Enhanced tree view -->
        <record id="hodoure_notification_tree" model="ir.ui.view">
            <field name="name">notification.tree</field>
            <field name="model">hodoure.notification</field>
            <field name="arch" type="xml">
                <tree decoration-success="statut=='sent'" 
                      decoration-warning="statut=='failed'" 
                      decoration-info="statut=='pending'">
                    
                    <field name="parent_id" string="Parent" />
                    <field name="type" string="Type" widget="badge"/>
                    <field name="date_envoi" string="Send Date" widget="datetime"/>
                    <field name="statut" string="Status" widget="badge" 
                           decoration-success="statut=='sent'"
                           decoration-danger="statut=='failed'"
                           decoration-info="statut=='pending'"/>
                    <field name="contenu" string="Preview" optional="show"/>
                    <field name="absence_id" string="Related Absence" optional="hide"/>
                </tree>
            </field>
        </record>

        <!-- Simple kanban view -->
        <record id="hodoure_notification_kanban" model="ir.ui.view">
            <field name="name">notification.kanban</field>
            <field name="model">hodoure.notification</field>
            <field name="arch" type="xml">
                <kanban >
                    <field name="parent_id"/>
                    <field name="type"/>
                    <field name="date_envoi"/>
                    <field name="statut"/>
                    <field name="contenu"/>
                    
                    <templates>
                        <t t-name="kanban-box">
                            <div class="oe_kanban_card oe_kanban_global_click">
                                <div class="oe_kanban_content">
                                    <div class="o_kanban_record_top">
                                        <div class="o_kanban_record_headings">
                                            <strong class="o_kanban_record_title">
                                                <t t-esc="record.type.value"/>
                                            </strong>
                                        </div>
                                    </div>
                                    <div class="o_kanban_record_body">
                                        <field name="parent_id"/>
                                        <br/>
                                        <t t-esc="record.date_envoi.value"/>
                                        <br/>
                                        <t t-if="record.contenu.value">
                                            <i><t t-esc="record.contenu.value.substr(0, 80)"/>...</i>
                                        </t>
                                    </div>
                                </div>
                            </div>
                        </t>
                    </templates>
                </kanban>
            </field>
        </record>

        <!-- Enhanced form view -->
        <record id="hodoure_notification_form" model="ir.ui.view">
            <field name="name">notification.form</field>
            <field name="model">hodoure.notification</field>
            <field name="arch" type="xml">
                <form string="Notification" create="false" edit="false">
                    <header>
                        <field name="statut" widget="statusbar"/>
                    </header>
                    
                    <sheet>
                        <div class="oe_title">
                            <h1>
                                <field name="type" readonly="1"/>
                            </h1>
                        </div>

                        <group>
                            <group string="Notification Details">
                                <field name="parent_id"/>
                                <field name="type" readonly="1"/>
                                <field name="date_envoi"/>
                                <field name="statut"/>
                            </group>
                            
                            <group string="Related Information">
                                <field name="absence_id"/>
                            </group>
                        </group>
                        
                        <separator string="Message Content"/>
                        <field name="contenu" widget="text"/>
                        
                        <footer>
                            <button name="action_save_notification"
                                    string="Save"
                                    type="object"
                                    class="btn-primary"/>
                            <button string="Cancel" special="cancel" class="btn-secondary"/>
                        </footer>
                    </sheet>
                </form>
            </field>
        </record>

        <!-- Calendar view -->
        <record id="hodoure_notification_calendar" model="ir.ui.view">
            <field name="name">notification.calendar</field>
            <field name="model">hodoure.notification</field>
            <field name="arch" type="xml">
                <calendar string="Notifications Calendar" 
                          date_start="date_envoi" 
                          color="type">
                    <field name="parent_id"/>
                    <field name="type"/>
                    <field name="statut"/>
                </calendar>
            </field>
        </record>

        <!-- Main action -->
        <record id="hodoure_notification_action" model="ir.actions.act_window">
            <field name="name">Notifications</field>
            <field name="res_model">hodoure.notification</field>
            <field name="view_mode">tree,kanban,form,calendar</field>
            <field name="search_view_id" ref="hodoure_notification_search"/>
            <field name="help" type="html">
                <p class="o_view_nocontent_smiling_face">
                    Create your first notification!
                </p>
                <p>
                    Track and manage all parent notifications from this dashboard.
                </p>
            </field>
        </record>

        <!-- Menu items -->
        <menuitem id="notification_menu_root" web_icon="hodoure,static/src/img/icons/notifications.png" name="Notifications"/>
        <menuitem id="hodoure_notification_menu" 
                  name="All Notifications" 
                  parent="notification_menu_root" 
                  action="hodoure_notification_action"/>

    </data>
</odoo>